BASE <http://ontology.qworum.net/i/>

# Metadata
PREFIX foaf:    <http://xmlns.com/foaf/0.1/> 
PREFIX dcterms: <http://purl.org/dc/terms/>       # https://www.dublincore.org/specifications/dublin-core/dcmi-terms/
PREFIX owl:     <http://www.w3.org/2002/07/owl#>
PREFIX vann:    <http://purl.org/vocab/vann/> 

# Ontology
PREFIX :     <>
PREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> # https://www.w3.org/TR/rdf-schema/
PREFIX xsd:  <http://www.w3.org/2001/XMLSchema#> 

# -- Document metadata --------------------------------------------------
:metadata {
  <>
    a foaf:Document;
    dcterms:description 'Qworum API description ontology.'@en;
    foaf:maker <https://qworum.net/data/DoÄŸaArmangil.ttl#id>;
    cc:license <https://creativecommons.org/publicdomain/zero/1.0/>;

    a owl:Ontology;
    vann:preferredNamespacePrefix 'qrmi';
    vann:preferredNamespaceUri 'http://ontology.qworum.net/i/'.
}

# RDF Classes  --------------------------------------------------

# The interface of a Qworum class
:Interface rdfs:subClassOf rdfs:Class. # has: extends, property, method
:ExtensionList rdfs:subClassOf :Interface, rdf:Seq. # has: _1, _2, _3, _4, _5, _6
:Method rdfs:subClassOf rdfs:Class. # has: path, parameter, local, returns, throws

:JsonPointer rdfs:subClassOf rdfs:Class. # has: name, schema
:SemanticDataPointer rdfs:subClassOf rdfs:Class. # has: name, shape
:InterfacePointer rdfs:subClassOf rdfs:Class. # has: name

:JsonValue rdfs:subClassOf rdfs:Class. # has: schema
:SemanticDataValue rdfs:subClassOf rdfs:Class. # has: shape

:Fault rdfs:subClassOf rdfs:Class. # has: type

:extends
  a rdf:Property;
  rdfs:domain :Interface;
  rdfs:range :ExtensionList.

:property
  a rdf:Property;
  rdfs:domain :Interface;
  rdfs:range 
    :JsonPointer, :SemanticDataPointer, :InterfacePointer.

:method
  a rdf:Property;
  rdfs:domain :Interface;
  rdfs:range :Method.

:path
  a rdf:Property;
  rdfs:domain :Method;
  rdfs:range :methodPath.

:parameter
  a rdf:Property;
  rdfs:domain :Method;
  rdfs:range 
    :JsonPointer, :SemanticDataPointer, :InterfacePointer.

:local
  a rdf:Property;
  rdfs:domain :Method;
  rdfs:range 
    :JsonPointer, :SemanticDataPointer, :InterfacePointer.

:returns
  a rdf:Property;
  rdfs:domain :Method;
  rdfs:range 
    :JsonValue, :SemanticDataValue.

:throws
  a rdf:Property;
  rdfs:domain :Method;
  rdfs:range :Fault.

:name
  a rdf:Property;
  rdfs:domain
    :JsonPointer, :SemanticDataPointer, :InterfacePointer;
  rdfs:range xsd:string.

:schema
  a rdf:Property;
  rdfs:domain :JsonPointer;
  rdfs:range :anyIRI.

:shape # TODO support both shex and shacl (all content types other than 'text/shex' mean shacl)
  a rdf:Property;
  rdfs:domain :SemanticDataPointer;
  rdfs:range :anyIRI.

:type
  a rdf:Property;
  rdfs:domain :Fault;
  rdfs:range xsd:string.

:_1 
  rdfs:subPropertyOf rdf:_1;
  rdfs:domain :ExtensionList;
  rdfs:range :Interface.
:_2 
  rdfs:subPropertyOf rdf:_2;
  rdfs:domain :ExtensionList;
  rdfs:range :Interface.
:_3 
  rdfs:subPropertyOf rdf:_3;
  rdfs:domain :ExtensionList;
  rdfs:range :Interface.
:_4 
  rdfs:subPropertyOf rdf:_4;
  rdfs:domain :ExtensionList;
  rdfs:range :Interface.
:_5 
  rdfs:subPropertyOf rdf:_5;
  rdfs:domain :ExtensionList;
  rdfs:range :Interface.
:_6 
  rdfs:subPropertyOf rdf:_6;
  rdfs:domain :ExtensionList;
  rdfs:range :Interface.



# Other

:comment 
  rdfs:subPropertyOf rdfs:comment;
  rdfs:comment 'A comment.'@en;
  rdfs:domain 
    :Interface, :ExtensionList, :Method,
    :JsonPointer,:SemanticDataPointer, 
    :InterfacePointer.

:anyIRI
  # https://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/#xsd-datatypes  
  # if the range of a property cannot be de-referenced (= is not RDF), then make it a xsd:anyURI
  rdfs:subClassOf xsd:anyURI, rdfs:Datatype;
  rdfs:comment 'Same as xsd:anyURI, but fixes the typo.'@en.

:methodPath
  rdfs:subClassOf :anyIRI;
  rdfs:comment 'An IRI path that does not start with an "/".'@en.

:basePath
  rdfs:subClassOf :anyIRI;
  rdfs:comment '''
    An IRI path that starts and ends with an "/". 
    The slashes are implicitly added if they are missing.
  '''@en.


